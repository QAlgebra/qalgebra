

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>qalgebra.utils.singleton module &mdash; QAlgebra 0.2.0+dev (20ec971) documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/mycss.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="../_static/docs-versions-menu.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="qalgebra.utils.testing module" href="qalgebra.utils.testing.html" />
    <link rel="prev" title="qalgebra.utils.properties_for_args module" href="qalgebra.utils.properties_for_args.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> QAlgebra
          

          
          </a>

          
            
            
              <div class="version">
                0.2.0+dev
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../readme.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../readme.html#usage">Usage</a></li>
</ul>
<p class="caption"><span class="caption-text">Quantum Algebra</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../symbolic_algebra.html">Symbolic Algebra</a></li>
<li class="toctree-l1"><a class="reference internal" href="../printing.html">The Printing System</a></li>
</ul>
<p class="caption"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../history.html">History</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../library_structure.html">Library Structure</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="qalgebra.html">API of the QAlgebra package</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="qalgebra.pattern_matching.html">qalgebra.pattern_matching module</a></li>
<li class="toctree-l2"><a class="reference internal" href="qalgebra.convert.html">qalgebra.convert package</a></li>
<li class="toctree-l2"><a class="reference internal" href="qalgebra.core.html">qalgebra.core package</a></li>
<li class="toctree-l2"><a class="reference internal" href="qalgebra.library.html">qalgebra.library package</a></li>
<li class="toctree-l2"><a class="reference internal" href="qalgebra.printing.html">qalgebra.printing package</a></li>
<li class="toctree-l2"><a class="reference internal" href="qalgebra.toolbox.html">qalgebra.toolbox package</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="qalgebra.utils.html">qalgebra.utils package</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="qalgebra.utils.check_rules.html">qalgebra.utils.check_rules module</a></li>
<li class="toctree-l3"><a class="reference internal" href="qalgebra.utils.containers.html">qalgebra.utils.containers module</a></li>
<li class="toctree-l3"><a class="reference internal" href="qalgebra.utils.indices.html">qalgebra.utils.indices module</a></li>
<li class="toctree-l3"><a class="reference internal" href="qalgebra.utils.ordering.html">qalgebra.utils.ordering module</a></li>
<li class="toctree-l3"><a class="reference internal" href="qalgebra.utils.properties_for_args.html">qalgebra.utils.properties_for_args module</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">qalgebra.utils.singleton module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#summary">Summary</a></li>
<li class="toctree-l4"><a class="reference internal" href="#reference">Reference</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="qalgebra.utils.testing.html">qalgebra.utils.testing module</a></li>
<li class="toctree-l3"><a class="reference internal" href="qalgebra.utils.unicode.html">qalgebra.utils.unicode module</a></li>
<li class="toctree-l3"><a class="reference internal" href="qalgebra.utils.html#summary">Summary</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="qalgebra.html#summary">Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="qalgebra.html#reference">Reference</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">QAlgebra</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          



























<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="qalgebra.html">qalgebra package</a> &raquo;</li>
        
          <li><a href="qalgebra.utils.html">qalgebra.utils package</a> &raquo;</li>
        
      <li>qalgebra.utils.singleton module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-qalgebra.utils.singleton">
<span id="qalgebra-utils-singleton-module"></span><h1>qalgebra.utils.singleton module<a class="headerlink" href="#module-qalgebra.utils.singleton" title="Permalink to this headline">¶</a></h1>
<p>Constant algebraic objects are best implemented as singletons (i.e., they only
exist as a single object). This module provides the means to declare
singletons:</p>
<ul class="simple">
<li><p>The <a class="reference internal" href="#qalgebra.utils.singleton.Singleton" title="qalgebra.utils.singleton.Singleton"><code class="xref py py-class docutils literal notranslate"><span class="pre">Singleton</span></code></a> metaclass ensures that every class based on it
produces the same object every time it is instantiated</p></li>
<li><p>The <a class="reference internal" href="#qalgebra.utils.singleton.singleton_object" title="qalgebra.utils.singleton.singleton_object"><code class="xref py py-func docutils literal notranslate"><span class="pre">singleton_object()</span></code></a> class decorator converts a singleton class
definition into the actual singleton object</p></li>
</ul>
<p>Singletons in QAlgebra should use both of these.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In order for the Sphinx autodoc extension to correctly recognize
singletons, a custom documenter will have to be registered. The Sphinx
<code class="docutils literal notranslate"><span class="pre">conf.py</span></code> file must contain the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sphinx.ext.autodoc</span> <span class="kn">import</span> <span class="n">DataDocumenter</span>

<span class="k">class</span> <span class="nc">SingletonDocumenter</span><span class="p">(</span><span class="n">DataDocumenter</span><span class="p">):</span>
    <span class="n">directivetype</span> <span class="o">=</span> <span class="s1">&#39;data&#39;</span>
    <span class="n">objtype</span> <span class="o">=</span> <span class="s1">&#39;singleton&#39;</span>
    <span class="n">priority</span> <span class="o">=</span> <span class="mi">20</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">can_document_member</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">member</span><span class="p">,</span> <span class="n">membername</span><span class="p">,</span> <span class="n">isattr</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span>
            <span class="n">member</span><span class="p">,</span> <span class="n">qalgebra</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">singleton</span><span class="o">.</span><span class="n">SingletonType</span>
        <span class="p">)</span>

<span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="n">app</span><span class="p">):</span>
    <span class="c1"># ... (other hook settings)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_autodocumenter</span><span class="p">(</span><span class="n">SingletonDocumenter</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Classes:</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#qalgebra.utils.singleton.Singleton" title="qalgebra.utils.singleton.Singleton"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Singleton</span></code></a></p></td>
<td><p>Metaclass for singletons.</p></td>
</tr>
</tbody>
</table>
<p>Functions:</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#qalgebra.utils.singleton.singleton_object" title="qalgebra.utils.singleton.singleton_object"><code class="xref py py-obj docutils literal notranslate"><span class="pre">singleton_object</span></code></a></p></td>
<td><p>Class decorator that transforms (and replaces) a class definition (which must have a Singleton metaclass) with the actual singleton object.</p></td>
</tr>
</tbody>
</table>
<p>Data:</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#qalgebra.utils.singleton.SingletonType" title="qalgebra.utils.singleton.SingletonType"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SingletonType</span></code></a></p></td>
<td><p>A dummy type that for checking whether an object is a Singleton.</p></td>
</tr>
</tbody>
</table>
<p><code class="docutils literal notranslate"><span class="pre">__all__</span></code>: <a class="reference internal" href="#qalgebra.utils.singleton.Singleton" title="qalgebra.utils.singleton.Singleton"><code class="xref py py-class docutils literal notranslate"><span class="pre">Singleton</span></code></a>, <a class="reference internal" href="#qalgebra.utils.singleton.SingletonType" title="qalgebra.utils.singleton.SingletonType"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SingletonType</span></code></a>, <a class="reference internal" href="#qalgebra.utils.singleton.singleton_object" title="qalgebra.utils.singleton.singleton_object"><code class="xref py py-func docutils literal notranslate"><span class="pre">singleton_object</span></code></a></p>
</div>
<div class="section" id="reference">
<h2>Reference<a class="headerlink" href="#reference" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="qalgebra.utils.singleton.singleton_object">
<code class="sig-prename descclassname"><span class="pre">qalgebra.utils.singleton.</span></code><code class="sig-name descname"><span class="pre">singleton_object</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cls</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/qalgebra/utils/singleton.html#singleton_object"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#qalgebra.utils.singleton.singleton_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Class decorator that transforms (and replaces) a class definition (which
must have a Singleton metaclass) with the actual singleton object. Ensures
that the resulting object can still be “instantiated” (i.e., called),
returning the same object. Also ensures the object can be pickled, is
hashable, and has the correct string representation (the name of the
singleton)</p>
<p>If the class defines a <cite>_hash_val</cite> class attribute, the hash of the
singleton will be the hash of that value, and the singleton will compare
equal to that value. Otherwise, the singleton will have a unique hash and
compare equal only to itself.</p>
</dd></dl>

<dl class="py class">
<dt id="qalgebra.utils.singleton.Singleton">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">qalgebra.utils.singleton.</span></code><code class="sig-name descname"><span class="pre">Singleton</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bases</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">namespace</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/qalgebra/utils/singleton.html#Singleton"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#qalgebra.utils.singleton.Singleton" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.8/library/abc.html#abc.ABCMeta" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABCMeta</span></code></a></p>
<p>Metaclass for singletons.</p>
<p>Any instantiation of a singleton class yields the exact same object, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">MyClass</span><span class="p">(</span><span class="n">metaclass</span><span class="o">=</span><span class="n">Singleton</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">MyClass</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">MyClass</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="ow">is</span> <span class="n">b</span>
<span class="go">True</span>
</pre></div>
</div>
<p>You can check that an object is a singleton using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">SingletonType</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py data">
<dt id="qalgebra.utils.singleton.SingletonType">
<code class="sig-prename descclassname"><span class="pre">qalgebra.utils.singleton.</span></code><code class="sig-name descname"><span class="pre">SingletonType</span></code><em class="property"> <span class="pre">=</span> <span class="pre">&lt;class</span> <span class="pre">'qalgebra.utils.singleton.SingletonType'&gt;</span></em><a class="reference internal" href="../_modules/qalgebra/utils/singleton.html#SingletonType"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#qalgebra.utils.singleton.SingletonType" title="Permalink to this definition">¶</a></dt>
<dd><p>A dummy type that for checking whether an object is a Singleton.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">SingletonType</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="qalgebra.utils.testing.html" class="btn btn-neutral float-right" title="qalgebra.utils.testing module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="qalgebra.utils.properties_for_args.html" class="btn btn-neutral float-left" title="qalgebra.utils.properties_for_args module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Michael Goerz.
      <span class="lastupdated">
        Last updated on May 26, 2021.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>